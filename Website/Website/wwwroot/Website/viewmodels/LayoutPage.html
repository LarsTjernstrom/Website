<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Website</title>
    <link href="/Website/css/style.css" rel="stylesheet" />
    <script src="/sys/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="/sys/polymer/polymer.html" />
    <link rel="import" href="/sys/puppet-client/src/puppet-client.html" />
    <link rel="import" href="/sys/dom-bind-notifier/dom-bind-notifier.html" />
    <link rel="import" href="/Website/elements/puppet-import.html" />
    <link rel="import" href="/Website/elements/website-section.html" />
</head>
<body>
    <template is="dom-bind" id="puppet-root">
        <dom-bind-notifier observed-object="{{model}}" ref="puppet-root" path="model" deep></dom-bind-notifier>
        <header>
            <div class="video">
                <div>Header video</div>
                <iframe width="200" height="150" src="https://www.youtube.com/embed/Xp7HVA5CPjQ" frameborder="0" allowfullscreen></iframe>
            </div>
        </header>
        <section>
            <puppet-import model="{{model.TemplateModel}}" path="model.TemplateModel" html="{{model.TemplateHtml}}" content="{{model.TemplateContent}}"></puppet-import>
        </section>
        <footer>
            Copyright &copy; 2015 Starcounter
        </footer>
    </template>
    <puppet-client usewebsocket="false" ref="puppet-root"></puppet-client>
    <script>
        var root = document.getElementById("puppet-root");
        var puppet = document.querySelector("puppet-client");

        root.getSections = function (sections) {
            return sections && sections.split(/,/gi);
        };

        root.getSectionModel = function (name) {
            return root.model.Content[name].Value;
        };

        root.getSectionHtml = function (name) {
            return root.model.Content[name].Html;
        };

        root.getSectionPath = function (name) {
            return "model.Content." + name;
        };
    </script>
</body>
</html>