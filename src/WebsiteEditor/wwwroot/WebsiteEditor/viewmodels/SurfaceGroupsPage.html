<link rel="import" href="/sys/polymer/polymer.html">

<template>
    <template is="dom-bind">
        <h1>Surface groups</h1>
        <br />
        <template is="dom-repeat" items="{{model.SurfaceGroups$}}">
            <h4>
                <template is="dom-if" if="{{!isUnassignedGroup(item.Name$)}}">
                    <input type="text" value="{{item.Name$::change}}" class="website-surface-group-name" />
                </template>
                <template is="dom-if" if="{{isUnassignedGroup(item.Name$)}}">
                    <label class="website-surface-group-name">{{item.Name$}}</label>
                </template>

                <button class="btn website-surface-groups-add btn-success" title="Add new surface" value="{{item.CreateSurface$::click}}" onmousedown="++this.value;">
                    <span class="glyphicon glyphicon-plus website-no-pointer-events"></span>
                </button>
                <template is="dom-if" if="{{!isUnassignedGroup(item.Name$)}}">
                    <button class="btn website-surface-groups-add btn-danger" title="Delete group" value="{{item.DeleteGroup$::click}}" onmousedown="++this.value;">
                        <span class="glyphicon glyphicon-remove website-no-pointer-events"></span>
                    </button>
                </template>
            </h4>
            <template is="dom-repeat" items="{{item.Surfaces}}" as="surface">
                <a href="/WebsiteEditor/surface/{{surface.Key}}/general" class="website-surface-groups-surface">{{surface.Name}}</a>
            </template>
            <hr/>
        </template>
        <button class="btn btn-success" value="{{model.CreateGroup$::click}}" onmousedown="++this.value">Add Group</button>
    </template>
    <script>
        var script = document._currentScript || document.currentScript;
        var template = script.previousElementSibling;

        template.isUnassignedGroup = function (name) {
            return name === "Unassigned";
        };
    </script>
</template>