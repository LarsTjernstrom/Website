<link rel="import" href="/sys/polymer/polymer.html">

<template>
    <template is="dom-bind">
        <h1>Surface groups</h1>
        <br />
        <template is="dom-repeat" items="{{model.SurfaceGroups$}}">
            <h4>
                <input type="text" value="{{item.Name$::change}}" class="website-surface-group-name"/>
                <button class="btn website-surface-groups-add btn-success" title="Add new surface" value="{{item.CreateSurface$::click}}" onmousedown="++this.value;">
                    <span class="glyphicon glyphicon-plus website-no-pointer-events"></span>
                </button>
                <button class="btn website-surface-groups-add btn-danger" title="Delete group" value="{{item.DeleteGroup$::click}}" onmousedown="++this.value;">
                    <span class="glyphicon glyphicon-remove website-no-pointer-events"></span>
                </button>
            </h4>
            <template is="dom-repeat" items="{{item.Surfaces}}" as="surface">
                <a href="/WebsiteEditor/surface/{{surface.Key}}/general" class="website-surface-groups-surface">{{surface.Name}}</a>
            </template>
            <hr/>
        </template>

        <!-- For unassigned surfaces -->
        <h4>
            <label class="website-surface-group-name">Unassigned</label>
            <button class="btn website-surface-groups-add btn-success" title="Add new unassigned surface" value="{{model.CreateUnassignedSurface$::click}}" onmousedown="++this.value;">
                <span class="glyphicon glyphicon-plus website-no-pointer-events"></span>
            </button>
        </h4>
        <template is="dom-repeat" items="{{model.UnassignedSurfaces}}" as="surface">
            <a href="/WebsiteEditor/surface/{{surface.Key}}/general" class="website-surface-groups-surface">{{surface.Name}}</a>
        </template>
        <hr/>

        <button class="btn btn-success" value="{{model.CreateGroup$::click}}" onmousedown="++this.value">Add Group</button>
    </template>
    <script>
        var script = document._currentScript || document.currentScript;
        var template = script.previousElementSibling;

        template.isUnassignedGroup = function (name) {
            return name === "Unassigned";
        };
    </script>
</template>