<template>
    <style slot="website/global-style">
        body {
            margin: 0;
        }
    </style>
    <template is="dom-bind" defaultTemplate>
        <starcounter-include slot="website/topbar" view-model="{{model.Sections.TopBar}}"></starcounter-include>
        <starcounter-include slot="website/main" view-model="{{model.Sections.Main}}"></starcounter-include>
    </template>
    <template is="declarative-shadow-dom">
        <slot name="website/global-style"></slot>
        <style>
            .website-defaulttemplate-topbar {
                background-color: #333;
                color: #FFF;
                padding: 10px;
            }
            /* Blending points and their elements distributed in topbar surface */
            /* For browsers without CSS Grid Layout and witout @supports make topbar a flexbox*/
            /** for Shadow DOM v0 compilant browsers */
            .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition,
            .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition > starcounter-include > juicy-composition {
                border: 1px solid red;
                display: flex;
                align-items: center;
                justify-content: flex-end;
            }
            /** for polyfilled browsers */
            .website-defaulttemplate-topbar > starcounter-include > juicy-composition,
            .website-defaulttemplate-topbar > starcounter-include > juicy-composition > starcounter-include > juicy-composition {
                display: flex;
                align-items: center;
                justify-content: flex-end;
            }
            /* For ones with CSS Grid us it with 5px gutter */
            @supports( (display: grid) and (grid-column-gap: 5px) ) {
                /** For browsers that supports Shadow DOM v0 */
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition,
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition > starcounter-include > juicy-composition {
                    border: 1px solid green;
                    display: grid;
                    align-items: center;
                    grid-column-gap: 5px;
                    grid-auto-flow: column;
                    margin-right: 5px;
                }

                /** duplicated rule for polyfilled browsers */
                .website-defaulttemplate-topbar > starcounter-include > juicy-composition,
                .website-defaulttemplate-topbar > starcounter-include > juicy-composition > starcounter-include > juicy-composition {
                    border: 1px solid lightgreen;
                    display: grid;
                    align-items: center;
                    grid-column-gap: 5px;
                    grid-auto-flow: column;
                    margin-right: 5px;
                }
            }
            /* For browsers w/o Grid break SD boundary and add gutter as margin */
            @supports( not ((display: grid) and (grid-column-gap: 5px)) ) {
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition > *,
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition > starcounter-include > juicy-composition > *,
                /*
                 Shadow DOM v1 in-compatible Shadow DOM piercing selector
                 styling such things may break default compositions delivered by apps
                */
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition::shadow>*,
                .website-defaulttemplate-topbar ::content > starcounter-include > juicy-composition > starcounter-include > juicy-composition::shadow>* {
                    border: 1px solid blue;
                    margin-right: 5px;
                }
                /** duplicated rule for polyfilled browsers */
                .website-defaulttemplate-topbar > starcounter-include > juicy-composition > *,
                .website-defaulttemplate-topbar > starcounter-include > juicy-composition > starcounter-include > juicy-composition > * {
                    border: 1px solid lightblue;
                    margin-right: 5px;
                }
            }

        </style>
        <section class="website-defaulttemplate-topbar">
            <slot name="website/topbar"></slot>
        </section>
        <section class="website-defaulttemplate-main">
            <slot name="website/main"></slot>
        </section>
    </template>
</template>
